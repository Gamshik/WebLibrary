let tokenKey="WebLibraryToken";const username=document.getElementById("inputUsername"),email=document.getElementById("inputEmail"),password=document.getElementById("inputPassword"),passwordConfirm=document.getElementById("inputPasswordConfirm"),usernameHelp=document.getElementById("usernameHelp"),emailHelp=document.getElementById("emailHelp"),passwordHelp=document.getElementById("passwordHelp"),passwordConfirmHelp=document.getElementById("passwordConfirmHelp"),errorHelp=document.getElementById("errorHelp");function validateData(){var e=username.value,t=email.value,r=password.value,s=passwordConfirm.value;let a=!0;return""===e&&(a=!1,setError(usernameHelp,"Enter username please!")),e.length<4?(a=!1,setError(usernameHelp,"Username can not be less than 4 character!")):setSuccess(usernameHelp),""===t?(a=!1,setError(emailHelp,"Enter email please!")):validateEmail(t)?setSuccess(emailHelp):(a=!1,setError(emailHelp,"Email is not correct!")),""===r?(a=!1,setError(passwordHelp,"Enter password please!")):r.length<10?(a=!1,setError(passwordHelp,"Password can not be less than 10 character!!")):setSuccess(passwordHelp),r!=s?(a=!1,setError(passwordConfirmHelp,"Passwords must be match!")):setSuccess(passwordConfirmHelp),a}function validateEmail(e){return String(e).toLowerCase().match(/^[A-Za-z0-9_!#$%&'*+\/=?`{|}~^.-]+@[A-Za-z0-9.-]+$/)}function setError(e,t){e.innerText=t}function setSuccess(e){e.innerText=""}document.getElementById("registerSubmit").addEventListener("click",async e=>{var t;e.preventDefault(),validateData()?(t=await(e=await fetch("https://localhost:7106/api/User/Register",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify({userName:username.value,email:email.value,password:password.value})})).json(),e.ok?window.location.href="https://localhost:7106/login.html":errorHelp.innerText=t.message):errorHelp.innerText=""}),document.getElementById("loginLink").addEventListener("click",e=>{window.location.href="https://localhost:7106/login.html"});