let tokenKey="WebLibraryToken";const email=document.getElementById("inputEmail"),password=document.getElementById("inputPassword"),emailHelp=document.getElementById("emailHelp"),passwordHelp=document.getElementById("passwordHelp"),errorHelp=document.getElementById("errorHelp");function validateData(){var e=email.value,t=password.value;let a=!0;return""===e?(a=!1,setError(emailHelp,"Enter email please!")):validateEmail(e)?setSuccess(emailHelp):(a=!1,setError(emailHelp,"Email is not correct!")),""===t?(a=!1,setError(passwordHelp,"Enter password please!")):t.length<10?(a=!1,setError(passwordHelp,"Password must not be less than 10 characters long!")):setSuccess(passwordHelp),a}function validateEmail(e){return String(e).toLowerCase().match(/^[A-Za-z0-9_!#$%&'*+\/=?`{|}~^.-]+@[A-Za-z0-9.-]+$/)}function setError(e,t){e.innerText=t}function setSuccess(e){e.innerText=""}document.getElementById("loginSubmit").addEventListener("click",async e=>{var t;e.preventDefault(),validateData()?(t=await(e=await fetch("https://localhost:7106/api/User/Authorize",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify({email:email.value,password:password.value})})).json(),e.ok?(localStorage.setItem(tokenKey,t.token),window.location.href="https://localhost:7106/library.html"):errorHelp.innerText=t.message):errorHelp.innerText=""}),document.getElementById("registerLink").addEventListener("click",e=>{window.location.href="https://localhost:7106/register.html"});